<div class="container">
    <div class="row align-items-center">

        <div class="col-md-6 col-md-offset-3 loginBox">
            <ng-container *ngTemplateOutlet="this.logged ? logoutBlock : loginBlock">
            </ng-container>
            <div>
                <ng-container *ngIf="this.message">
                    <p class="warning">
                        {{this.message}}
                    </p>
                </ng-container>
            </div>
        </div>

        <div class="col-md-4 mx-auto">
            <div>
                <app-promos></app-promos>
            </div>

        </div>

    </div>
</div>


<ng-template #loginBlock>
    <div class="row">
        <h3>Log In</h3>
    </div>
    <div class="row mb-5">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="mb-3 form-group">
                <label for="id">Cédula</label>
                <input type="id" id="id" formControlName="id" class="form-control" placeholder="Ingrese su cédula">
            </div>
            <div class="mb-3 form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" formControlName="password" class="form-control"
                    placeholder="Contraseña">
            </div>
            <div class="mb-3 form-group">
                <label for="role">Tipo de ingreso </label>
                <select class="form-select" formControlName="role" id="role">
                    <option [ngValue]=RoleLevels.User>Usuario</option>
                    <option [ngValue]=RoleLevels.Admin>Funcionario</option>
                </select>
            </div>
            <ng-container *ngIf="this.loginMsg">
                <p class="warning">
                    {{this.loginMsg}}
                </p>
            </ng-container>
            <button type="submit" class="btn btn-primary">Ingresar</button>
        </form>
    </div>
    <div class="row">
        <p class="register">
            Desea afiliarse? <a href="register">Regístrese aquí</a>
        </p>
    </div>
</ng-template>

<ng-template #logoutBlock>
    <h2>Bienvenido al sistema!</h2>
    <button type="submit" (click)="logout()" class="btn btn-danger">Salir</button>
</ng-template>